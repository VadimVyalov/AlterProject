!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequirec88a;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequirec88a=a),a("4fDmg"),a("1ldjK"),a("1ldjK"),a("6n1nm");var n=a("gEqtN"),r=a("7vGu6");r=a("7vGu6"),n=a("gEqtN");const s="favoritNews";function i(e){let t=(0,r.loadLS)(e);const o=Array.from(document.querySelectorAll("#cardNews"));if(t){const e=t.map((e=>e.id));o.forEach((t=>{if(e.includes(t.dataset.targetId)){t.classList.add("inFavorite");t.querySelector("#favorit-txt").textContent="Remove from favorite"}}))}}const d="readNews",l="favoritNews",c=document.querySelector(".date-block"),f=document.querySelector(".errorRequest");function u(e){let t=(0,r.loadLS)(e);n.arrLastData.length=0,n.arrLastData.push(...t);let o="0000/00/00";if(!t)return void console.log("=============");f.classList.add("visually-hidden"),c.classList.remove("visually-hidden"),o=t[0].readDate,t.push({readDate:"0"});const a=[];t.forEach((e=>{if(o!==e.readDate){const t=document.createElement("div");t.innerHTML=`<span class="btn-span">${o}</span>\n                                    <svg class="icon-down-read-pg" width="15" height="9">\n                                         <use href="${n.icon}#icon-arrow-down"></use>\n                                    </svg>`,c.append(t);const r=document.createElement("UL");r.classList.add("gallery"),r.innerHTML=a.map(n.createCard).join(""),c.append(r),o=e.readDate,a.length=0}a.push(e)})),i(l),t.pop(),(0,r.loadLS)(d,t)}window.addEventListener("load",(()=>{u(d)}));const v=document.querySelector("#readNews");console.log(v),v.addEventListener("click",(function(e){if(e.target.classList.contains("js-tartet-favorite")){const t=e.target.closest(".js-card-item"),o=t.querySelector("#favorit-txt"),a=t.dataset.targetId;let i=(0,r.loadLS)(s);console.log(n.arrLastData);let d=n.arrLastData.find((e=>e.id===a));if(console.log(d),!i)return i=[],i.push(d),(0,r.saveLS)(s,i),t.classList.add("inFavorite"),void(o.textContent="Remove from favorite");const l=i.findIndex((e=>e.id===a));l<0?(console.log(d),console.log(a),i.push(d),(0,r.saveLS)(s,i),t.classList.add("inFavorite"),o.textContent="Remove from favorite"):(i.splice(l,1),(0,r.saveLS)(s,i),i.length||(0,r.removeLS)(s),t.classList.remove("inFavorite"),o.textContent="Add to favorite")}}))}();
//# sourceMappingURL=read.5099525e.js.map
