var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequirec88a;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequirec88a=o),o("6m6bG"),o("dvsPb"),o("dvsPb"),o("c4a1C");var r=o("2ltYP"),n=o("h5mQC");n=o("h5mQC"),r=o("2ltYP");const s="favoritNews";function i(e){let t=(0,n.loadLS)(e);const a=Array.from(document.querySelectorAll("#cardNews"));if(t){const e=t.map((e=>e.id));a.forEach((t=>{if(e.includes(t.dataset.targetId)){t.classList.add("inFavorite");t.querySelector("#favorit-txt").textContent="Remove from favorite"}}))}}const d="readNews",l="favoritNews",c=document.querySelector(".date-block"),f=document.querySelector(".errorRequest");function u(e){let t=(0,n.loadLS)(e);r.arrLastData.length=0,r.arrLastData.push(...t);let a="0000/00/00";if(!t)return void console.log("=============");f.classList.add("visually-hidden"),c.classList.remove("visually-hidden"),a=t[0].readDate,t.push({readDate:"0"});const o=[];t.forEach((e=>{if(a!==e.readDate){const t=document.createElement("div");t.innerHTML=`<span class="btn-span">${a}</span>\n                                    <svg class="icon-down-read-pg" width="15" height="9">\n                                         <use href="${r.icon}#icon-arrow-down"></use>\n                                    </svg>`,c.append(t);const n=document.createElement("UL");n.classList.add("gallery"),n.innerHTML=o.map(r.createCard).join(""),c.append(n),a=e.readDate,o.length=0}o.push(e)})),i(l),t.pop(),(0,n.loadLS)(d,t)}window.addEventListener("load",(()=>{u(d)}));document.querySelector("#readNews").addEventListener("click",(function(e){if(e.target.classList.contains("js-tartet-favorite")){const t=e.target.closest(".js-card-item"),a=t.querySelector("#favorit-txt"),o=t.dataset.targetId;let i=(0,n.loadLS)(s);console.log(r.arrLastData);let d=r.arrLastData.find((e=>e.id===o));if(console.log(d),!i)return i=[],i.push(d),(0,n.saveLS)(s,i),t.classList.add("inFavorite"),void(a.textContent="Remove from favorite");const l=i.findIndex((e=>e.id===o));l<0?(i.push(d),(0,n.saveLS)(s,i),t.classList.add("inFavorite"),a.textContent="Remove from favorite"):(i.splice(l,1),(0,n.saveLS)(s,i),i.length||(0,n.removeLS)(s),t.classList.remove("inFavorite"),a.textContent="Add to favorite")}}));
//# sourceMappingURL=read.c68729fc.js.map
