{"mappings":"gfAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,S,aAEA,MAAME,EAAgB,eAChBC,EAAUC,SAASC,cAAc,YACjCC,EAAeF,SAASC,cAAc,iBAuC5CE,OAAOC,iBAAiB,QAAQ,MArChC,SAAsBC,GACpB,MAAMC,GAAc,EAAAT,EAAAU,QAAOF,GAC3B,IAAKC,EACH,OAGFJ,EAAaM,UAAUC,IAAI,mBAC3BV,EAAQS,UAAUE,OAAO,mBACzBX,EAAQY,UAAYL,EAAYM,IAAIC,EAAAC,YAAYC,KAAK,IAEpCC,MAAMC,KAAKjB,SAASkB,iBAAiB,UAE7CC,SAAQC,IACfA,EAAEZ,UAAUC,IAAI,cACKW,EAAEnB,cAAc,yBACxBoB,YAAc,yBAE/B,CAqBEC,CAAaxB,EAAA,IAEfC,EAAQK,iBAAiB,SArBzB,SAA4BmB,GAC1B,GAAIA,EAAEC,OAAOhB,UAAUiB,SAAS,sBAAuB,CACrD,MAAMC,EAAWH,EAAEC,OAAOG,QAAQ,iBAC5BC,EAASF,EAASG,QAAQC,SAC1BxB,GAAc,EAAAT,EAAAU,QAAOT,GACrBiC,EAAUzB,EAAY0B,WAAUZ,GAAKA,EAAEa,KAAOL,IAEpDtB,EAAY4B,OAAOH,EAAS,IAC5B,EAAAlC,EAAAsC,QAAOrC,EAAeQ,GACjBA,EAAY8B,UACf,EAAAvC,EAAAwC,UAASvC,GACTI,EAAaM,UAAUE,OAAO,mBAC9BX,EAAQS,UAAUC,IAAI,oBAExBiB,EAAShB,QACX,CACF,G","sources":["src/favorite-page.js","src/js/renderFavorite.js"],"sourcesContent":["import './js/mob-menu';\nimport './js/mob-input';\nimport './js/toggle-mode';\nimport './js/navigations';\nimport './js/renderFavorite';\n//import './js/createMarkupFavorite.js';\n//import './js/remove-from-favorite.js';\n//import './js/search-favorite.js';\n","import { saveLS, loadLS, removeLS } from './lStorage';\nimport { checkFavorites, togleFaforite, createCard } from './apiCard';\nconst FAIVORIT_NEWS = 'favoriteNews';\nconst gallery = document.querySelector('.gallery');\nconst errorRequest = document.querySelector('.errorRequest');\n\nfunction renderFromLS(key) {\n  const favoritNews = loadLS(key);\n  if (!favoritNews) {\n    return;\n  }\n\n  errorRequest.classList.add('visually-hidden');\n  gallery.classList.remove('visually-hidden');\n  gallery.innerHTML = favoritNews.map(createCard).join('');\n\n  const cardNews = Array.from(document.querySelectorAll('.card'));\n\n  cardNews.forEach(i => {\n    i.classList.add('inFavorite');\n    const favoriteText = i.querySelector('.favorite-description');\n    favoriteText.textContent = 'Remove from favorite';\n  });\n}\n\nfunction removeFromFavorite(e) {\n  if (e.target.classList.contains('js-tartet-favorite')) {\n    const itemNews = e.target.closest('.js-card-item');\n    const newsId = itemNews.dataset.targetId;\n    const favoritNews = loadLS(FAIVORIT_NEWS);\n    const hasNews = favoritNews.findIndex(i => i.id === newsId);\n\n    favoritNews.splice(hasNews, 1);\n    saveLS(FAIVORIT_NEWS, favoritNews);\n    if (!favoritNews.length) {\n      removeLS(FAIVORIT_NEWS);\n      errorRequest.classList.remove('visually-hidden');\n      gallery.classList.add('visually-hidden');\n    }\n    itemNews.remove();\n  }\n}\n\nwindow.addEventListener('load', () => {\n  renderFromLS(FAIVORIT_NEWS);\n});\ngallery.addEventListener('click', removeFromFavorite);\n"],"names":["parcelRequire","$7vGu6","$1adc890c8af4e8dd$var$FAIVORIT_NEWS","$1adc890c8af4e8dd$var$gallery","document","querySelector","$1adc890c8af4e8dd$var$errorRequest","window","addEventListener","key","favoritNews","loadLS","classList","add","remove","innerHTML","map","$9HPth","createCard","join","Array","from","querySelectorAll","forEach","i","textContent","$1adc890c8af4e8dd$var$renderFromLS","e","target","contains","itemNews","closest","newsId","dataset","targetId","hasNews","findIndex","id","splice","saveLS","length","removeLS"],"version":3,"file":"favorite.92af51f2.js.map"}