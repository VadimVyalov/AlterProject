!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequirec88a;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequirec88a=a),a.register("iE7OH",(function(t,r){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},a=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var a={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),a[e]=t),t}})),a("iE7OH").register(JSON.parse('{"1Z6Xn":"favorite.334827fe.js","k5HmC":"icon.a66ccba6.svg"}'));const s=document.querySelector(".btn-search"),i=document.querySelector(".input-text");s.addEventListener("click",(function(){document.documentElement.clientWidth<768&&(i.classList.toggle("mob-input"),s.style.position="absolute",s.style.top="6px",s.style.left="14px")})),i.classList.contains("mob-input")||(s.style.position="");const o=document.querySelector(".switch__input");function c(e){return localStorage.setItem("mode",e)}o.addEventListener("click",(function(e){console.log(e.currentTarget),e.currentTarget.checked?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),c("dark")):(o.classList.remove("dark_null"),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),c("light"))})),function(){const e=localStorage.getItem("mode");null===e&&c("light");"light"===e&&(o.checked=!1);"dark"===e&&(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),o.classList.add("dark_null"),o.checked=!0)}();const l=window.location.pathname,d=document.getElementById("home-link"),u=document.getElementById("favorite-link"),m=document.getElementById("read-link");l.includes("/index.html")?d.classList.add("current"):l.includes("/favorite.html")?u.classList.add("current"):l.includes("/read.html")&&m.classList.add("current"),console.log(l);const f=document.querySelector(".gallery"),p=document.querySelector(".errorRequest");var g;g=a("aNJCr").getBundleURL("1Z6Xn")+a("iE7OH").resolve("k5HmC");const v=new URL(g),h=JSON.parse(localStorage.getItem("favoriteNews"));!function(){if(!Boolean(h))return void p.classList.remove("visually-hidden");let e="";e=h.map((({id:e,section:t,imgUrl:r,title:n,abstract:a,newDateStr:s,url:i})=>`<li class="card js-card-item" data-target-id=${e}>\n        <div class="wrap-image">\n          <img\n            src="${r}"\n            alt="photo"\n            class="wrap-image__photo"\n          />\n          <p class="wrap-image__text">${t}</p>\n          <button type="button"  class="wrap-image__btn js-is-favorite">\n            <span class="wrap-image__btn-text js-is-favorite">Remove from favorite</span>\n              <svg class="js-is-favorite fill-heard" width="16" height="16">\n                <use class="js-is-favorite" href ='${v}#icon-heart'></use>\n              </svg>\n          </button>\n        \n        </div>\n            <h2 class="card__title">${n}</h2>\n            <p class="card__description">${a.length>112?a.slice(0,113)+"...":a}</p>\n            <div class="wrap-info">\n                <p class="wrap-info__time">${s}</p>\n                <a href="${i}" class="wrap-info__link">Read more</a>\n            </div>\n      </li>`)).join(""),f.insertAdjacentHTML("beforeend",e)}();const w="favoriteNews",_=document.querySelector(".gallery"),y=document.querySelector(".errorRequest");_.addEventListener("click",(function(e){if(e.target.classList.contains("js-is-favorite")){!function(e){const t=document.querySelector(`li[data-target-id='${e}'] span.js-is-favorite`),r=document.querySelector(`li[data-target-id='${e}'] button.js-is-favorite`),n=document.querySelector(`li[data-target-id='${e}'] svg.js-is-favorite`),a=document.querySelector(`li[data-target-id='${e}'] use.js-is-favorite`),s=document.querySelector(`li[data-target-id='${e}']`);let i=JSON.parse(localStorage.getItem(w));const o=i.findIndex((t=>Number(t.id)===Number(e)));i.splice(o,1),localStorage.setItem(w,JSON.stringify(i)),i=JSON.parse(localStorage.getItem(w)),0===i.length&&(localStorage.removeItem(w),y.classList.remove("visually-hidden"));t.classList.replace("js-is-favorite","js-tartet-favorite"),r.classList.replace("js-is-favorite","js-tartet-favorite"),n.classList.replace("js-is-favorite","js-tartet-favorite"),a.classList.replace("js-is-favorite","js-tartet-favorite"),s.remove()}(e.target.closest(".js-card-item").dataset.targetId)}}));const b=JSON.parse(localStorage.getItem("favoriteNews")),L=document.querySelector(".gallery"),S=document.querySelector(".errorRequest");document.querySelector(".search-form").addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim();let r="";r=b.map((({id:e,section:r,imgUrl:n,title:a,abstract:s,newDateStr:i,url:o})=>{if(a.toLowerCase().includes(t.toLowerCase()))return`<li class="card js-card-item" data-target-id=${e}>\n            <div class="wrap-image">\n              <img\n                src="${n}"\n                alt="photo"\n                class="wrap-image__photo"\n              />\n              <p class="wrap-image__text">${r}</p>\n              <button type="button"  class="wrap-image__btn js-is-favorite">\n                <span class="wrap-image__btn-text js-is-favorite">Remove from favorite</span>\n                  <svg class="js-is-favorite fill-heard" width="16" height="16">\n                    <use class="js-is-favorite" href ='${v}#icon-heart'></use>\n                  </svg>\n              </button>\n            \n            </div>\n                <h2 class="card__title">${a}</h2>\n                <p class="card__description">${s.length>112?s.slice(0,113)+"...":s}</p>\n                <div class="wrap-info">\n                    <p class="wrap-info__time">${i}</p>\n                    <a href="${o}" class="wrap-info__link">Read more</a>\n                </div>\n          </li>`})).join(""),Boolean(r)||S.classList.remove("visually-hidden");L.innerHTML=r}))}();
//# sourceMappingURL=favorite.334827fe.js.map
