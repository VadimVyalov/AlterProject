!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequirec88a;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},e.parcelRequirec88a=o),o("4fDmg"),o("1ldjK"),o("1ldjK"),o("6n1nm");var n=o("gEqtN"),r=o("7vGu6");r=o("7vGu6"),n=o("gEqtN");const s="favoritNews";function i(e){let t=(0,r.loadLS)(e);const a=Array.from(document.querySelectorAll("#cardNews"));if(t){const e=t.map((e=>e.id));a.forEach((t=>{if(e.includes(t.dataset.targetId)){t.classList.add("inFavorite");t.querySelector("#favorit-txt").textContent="Remove from favorite"}}))}}const d="readNews",l="favoritNews",c=document.querySelector(".date-block"),f=document.querySelector(".errorRequest");function u(e){let t=(0,r.loadLS)(e);n.arrLastData.length=0,n.arrLastData.push(...t);let a="0000/00/00";if(!t)return void console.log("=============");f.classList.add("visually-hidden"),c.classList.remove("visually-hidden"),a=t[0].readDate,t.push({readDate:"0"});const o=[];t.forEach((e=>{if(a!==e.readDate){const t=document.createElement("div");t.innerHTML=`<span class="btn-span">${a}</span>\n                                    <svg class="icon-down-read-pg" width="15" height="9">\n                                         <use href="${n.icon}#icon-arrow-down"></use>\n                                    </svg>`,c.append(t);const r=document.createElement("UL");r.classList.add("gallery"),r.innerHTML=o.map(n.createCard).join(""),c.append(r),a=e.readDate,o.length=0}o.push(e)})),i(l),t.pop(),(0,r.loadLS)(d,t)}window.addEventListener("load",(()=>{u(d)}));document.querySelector("#readNews").addEventListener("click",(function(e){if(e.target.classList.contains("js-tartet-favorite")){const t=e.target.closest(".js-card-item"),a=t.querySelector("#favorit-txt"),o=t.dataset.targetId;let i=(0,r.loadLS)(s);console.log(n.arrLastData);let d=n.arrLastData.find((e=>e.id===o));if(console.log(d),!i)return i=[],i.push(d),(0,r.saveLS)(s,i),t.classList.add("inFavorite"),void(a.textContent="Remove from favorite");const l=i.findIndex((e=>e.id===o));l<0?(i.push(d),(0,r.saveLS)(s,i),t.classList.add("inFavorite"),a.textContent="Remove from favorite"):(i.splice(l,1),(0,r.saveLS)(s,i),i.length||(0,r.removeLS)(s),t.classList.remove("inFavorite"),a.textContent="Add to favorite")}}))}();
//# sourceMappingURL=read.09e7658d.js.map
